# Tema 4. Trabajo con API

## Unidad 3. Peticiones PUT, DELETE y PATCH con Fetch

## Ejercicio 4.3.1 (Castellano)

A partir de la clase `ReqRes` implementada en el ejercicio anterior vamos a ampliarla con nuevos métodos que nos permitan practicar el trabajo con `PUT` / `PATCH` mediante `fetch` sobre una API.

Recuerda que trabajamos con el servicio web gratuito proporcionado por:<br>
https://reqres.in

Cuya documentación y entorno de pruebas puede consultarse aquí:<br>
https://reqres.in/api-docs/

Para ello:


### A. Preparación del fichero `u3e1.js`

Copia el código correspondiente a la clase `ReqRes` (y su exportación) del ejercicio 1 de la unidad 2 del Tema 4, ubicado en `/u2/u1e1.js` de manera que podamos partir de esa implementación.


### B. Propiedad nuevo endpoint

Añade la propiedad estática `ENDPOINT_USER` con el objetivo de poder hacer peticiones al **endpoint** a nivel de usuario:

- `ENDPOINT_USER`: que tendrá el valor `/users/{id}` donde `{id}` se ha de sustituir por el id del usuario que sobre el que se quiere trabajar.


### C. Método `updateFullUser`

Añade el método `updateFullUser` que recibe como parámetros:

- `id`: id del usuario a actualizar.

- `email`: valor para el campo `email` del usuario a actualizar.

- `firstName`: valor para el campo `first_name` del usuario a actualizar.

- `lastName`: valor para el campo `last_name` del usuario a actualizar.

- `avatarUrl`: valor con la url absoluta de la image para el campo `avatarUrl` del usuario a actualizar.


Este método realizará las siguientes tareas:

1) Si algún parámetro es vacío, devuelve la promesa resuelta dando como respuesta el siguiente objeto:

```js
{
    error: 'Some user fields are missing'
}
```

2) Si todos los parámetros disponen de valor, realizará la petición `fetch` mediante `PUT` al **endpoint** `ENDPOINT_USER` sustituyendo el `{id}` por el parámetro `id` recibido, y da como respuesta la promesa que devuelve la propia petición `fetch`.


### D. Método `updateUserName`

Añade el método `updateUserName` que recibe como parámetros:

- `id`: id del usuario a actualizar.

- `firstName`: valor para el campo `first_name` del usuario a actualizar.

- `lastName`: valor para el campo `last_name` del usuario a actualizar.


Este método realizará las siguientes tareas:

1) Si algún parámetro es vacío, devuelve la promesa resuelta dando como respuesta el siguiente objeto:

```js
{
    error: 'Some user fields are missing'
}
```

- Si todos los parámetros disponen de valor, realizará la petición `fetch` mediante `PATCH` al **endpoint** `ENDPOINT_USER` sustituyendo el `{id}` por el parámetro `id` recibido, y da como respuesta la promesa que devuelve la propia petición `fetch`.


-----


# Tema 4. Treball amb API

## Unitat 3. Peticions PUT, DELETE i PATCH amb Fetch

## Exercici 4.3.1 (Català)

A partir de la classe `ReqRes` implementada a l'exercici anterior la ampliarem amb nous mètodes que ens permetin practicar el treball amb `PUT` / `PATCH` mitjançant `fetch` sobre una API.

Recordeu que treballem amb el servei web gratuït proporcionat per:<br>
https://reqres.in

La documentació i l'entorn de proves del qual es pot consultar aquí:<br>
https://reqres.in/api-docs/

Per això:


### A. Preparació del fitxer `u3e1.js`

Copia el codi corresponent a la classe `ReqRes` (i la seva exportació) de l'exercici 1 de la unitat 2 del Tema 4, ubicat a `/u2/u1e1.js` de manera que puguem partir d'aquesta implementació.


### B. Propietat nou endpoint

Afegeix la propietat estàtica `ENDPOINT_USER` amb l'objectiu de poder fer peticions al **endpoint** a nivell d'usuari:

- `ENDPOINT_USER`: que tindrà el valor `/users/{id}` on `{id}` s'ha de substituir per l'id de l'usuari que sobre el que es vol treballar.


### C. Mètode `updateFullUser`

Afegeix el mètode `updateFullUser` que rep com a paràmetres:

- `id`: id de l'usuari a actualitzar.

- `email`: valor per al camp `email` de l'usuari a actualitzar.

- `firstName`: valor per al camp `first_name` de l'usuari a actualitzar.

- `lastName`: valor per al camp `last_name` de l'usuari que cal actualitzar.

- `avatarUrl`: valor amb la url absoluta de la imatge per al camp `avatarUrl` de l'usuari a actualitzar.


Aquest mètode realitzarà les tasques següents:

1) Si algun paràmetre és buit, torna la promesa resolta donant com a resposta l'objecte següent:

```js
{
     error: 'Some user fields are missing'
}
```

2) Si tots els paràmetres disposen de valor, realitzarà la petició `fetch` mitjançant `PUT` al **endpoint** `ENDPOINT_USER` substituint el `{id}` pel paràmetre `id` rebut, i dóna com a resposta la promesa que torna la pròpia petició `fetch`.


### D. Mètode `updateUserName`

Afegeix el mètode `updateUserName` que rep com a paràmetres:

- `id`: id de l'usuari a actualitzar.

- `firstName`: valor per al camp `first_name` de l'usuari a actualitzar.

- `lastName`: valor per al camp `last_name` de l'usuari que cal actualitzar.


Aquest mètode realitzarà les tasques següents:

1) Si algun paràmetre és buit, torna la promesa resolta donant com a resposta l'objecte següent:

```js
{
     error: 'Some user fields are missing'
}
```

- Si tots els paràmetres disposen de valor, realitzarà la petició `fetch` mitjançant `PATCH` al **endpoint** `ENDPOINT_USER` substituint el `{id}` pel paràmetre `id` rebut, i dóna com a resposta la promesa que torna la pròpia petició `fetch`.
